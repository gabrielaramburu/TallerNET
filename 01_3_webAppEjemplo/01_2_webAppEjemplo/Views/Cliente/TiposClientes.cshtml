@page
@using _01_3_webAppEjemplo.Views.Cliente
@model PersonasModel
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@



<h1>Clientes </h1>
<hr />
<div class="row">
    <div id="prueba" class="col-md-4">
        <button class="btn btn-primary" id="personas">Mostrar Personas</button>
        <button class="btn btn-primary" id="empresas">Mostrar Empresas</button>
    </div>
    <div class="col-md-4">
        <button id="cambiarColor">CambiarColor</button>
    </div>

</div>

<div id="clientes"></div>

@section scripts {
    <script>
        document.getElementById('personas').addEventListener('click', () => {
            fetch('/Cliente/MostrarPersonas')
                .then((response) => {
                    return response.text();
                })
                .then((result) => {
                    document.getElementById('clientes').innerHTML = result;
                });
        });

        document.getElementById('empresas').addEventListener('click', () => {
            fetch('/Cliente/MostrarEmpresas')
                .then((response) => {
                    return response.text();
                })
                .then((result) => {
                    document.getElementById('clientes').innerHTML = result;
                });
        });
        
        // simplemente para demostrar que no se refresca la página
        document.getElementById('cambiarColor').addEventListener('click', () => {
            const div = document.getElementById('prueba');
            const color = '#' + Math.floor(Math.random() * 16777215).toString(16);
            div.style.backgroundColor = color
        });
    </script>
}


